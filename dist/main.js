(()=>{"use strict";var e={434:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".form-group {\r\n  margin-top: 20px;\r\n  font-weight: bold;\r\n}\r\n.custom-select {\r\n  margin-top: 30px;\r\n}\r\n.custom-control {\r\n  margin-top: 10px;\r\n  font-weight: normal;\r\n}\r\n.form-check {\r\n  font-weight: normal;\r\n}\r\n\r\n.header {\r\n  background-color: #41ade7;\r\n}\r\n\r\n#footer {\r\n  background-color: #323232;\r\n  color: white;\r\n  margin-top: 30px;\r\n}\r\n\r\n#footer li a {\r\n  color: white;\r\n}\r\n\r\n#footer li a:hover {\r\n  color: white;\r\n}\r\n\r\n.imagenFooter {\r\n  text-align: center;\r\n}\r\n#imagenHeader {\r\n  max-width: none;\r\n}\r\n#linkHeader {\r\n  width: 650px;\r\n  overflow: hidden;\r\n}\r\n\r\nbody {\r\n  background-color: #e6e6e6;\r\n}\r\n\r\n\r\n\r\n\r\n.avisoCopy {\r\n  margin-top: 30px;\r\n  justify-self: center;\r\n}\r\n",""]);const a=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(r[i]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);o&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},695:e=>{var t={};e.exports=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}},379:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var a={},i=[],s=0;s<e.length;s++){var c=e[s],l=o.base?c[0]+o.base:c[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var f=n(u),p={css:c[1],media:c[2],sourceMap:c[3]};-1!==f?(t[f].references++,t[f].updater(p)):t.push({identifier:u,updater:r(p,o),references:1}),i.push(u)}return i}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var a=o(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=n(a[i]);t[s].references--}for(var c=o(e,r),l=0;l<a.length;l++){var d=n(a[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}a=c}}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o=n.css,r=n.media,a=n.sourceMap;r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(o,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{async function e(t){function n(t){return new Promise((function(n,o){if(e.loaded.has(t))n();else{var r=document.createElement("script");r.onload=n,r.src=t,document.head.appendChild(r)}}))}var o=[];for(const e of t)o.push(n(e));await Promise.all(o);for(const n of t)e.loaded.add(n)}async function t(e){function n(e){return new Promise((function(n,o){if(t.loaded.has(e))n();else{var r=document.createElement("link");r.rel="stylesheet",r.onload=n,r.href=e,document.head.appendChild(r)}}))}var o=[];for(const t of e)o.push(n(t));await Promise.all(o);for(const n of e)t.loaded.add(n)}const o=async()=>{t.loaded=new Set,await t(["https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css","https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css","https://cdn.jsdelivr.net/npm/fullcalendar/main.css","https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.1/css/all.css"]),e.loaded=new Set,await e(["https://code.jquery.com/jquery-3.6.0.slim.min.js","https://cdn.jsdelivr.net/npm/fullcalendar/main.js","https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js","https://www.gstatic.com/firebasejs/8.6.7/firebase-app.js","https://www.gstatic.com/firebasejs/8.6.7/firebase-auth.js","https://www.gstatic.com/firebasejs/8.6.7/firebase-firestore.js"]),e.loaded=new Set,await e(["https://cdn.jsdelivr.net/npm/fullcalendar/locales/es.js"]),firebase.initializeApp({apiKey:"AIzaSyAgg0nJjChQ2R7TrmiRKT-wGcCVGM5ct7Y",authDomain:"tcu-374-486-7712e.firebaseapp.com",projectId:"tcu-374-486-7712e",storageBucket:"tcu-374-486-7712e.appspot.com",messagingSenderId:"725202363337",appId:"1:725202363337:web:74d3e3d1da770c0f0e7e18"}),console.log("FINISH COMMON")},r=async()=>(await fetch("https://ubicaciones.paginasweb.cr/provincias.json")).json(),a=async e=>(await fetch("https://ubicaciones.paginasweb.cr/provincia/"+e+"/cantones.json")).json(),i=async(e,t)=>(await fetch("https://ubicaciones.paginasweb.cr/provincia/"+e+"/canton/"+t+"/distritos.json")).json(),s=(e,t)=>{let n=Object.entries(t);for(;e.firstChild;)e.removeChild(e.firstChild);for(let t=0;t<n.length;t++){let o=document.createElement("option");o.value=n[t][0],o.innerText=n[t][1],0===t&&(o.selected=!0),e.append(o)}};var c=n(379),l=n.n(c),d=n(795),u=n.n(d),f=n(695),p=n.n(f),m=n(216),h=n.n(m),v=n(434),g={styleTagTransform:function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},setAttributes:function(e){var t=n.nc;t&&e.setAttribute("nonce",t)},insert:function(e){var t=p()("head");if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(e)}};g.domAPI=u(),g.insertStyleElement=h();l()(v.Z,g);v.Z&&v.Z.locals&&v.Z.locals;class w{db=firebase.firestore();constructor(){}async addEvent(e,t,n){e.start=new Date(e.start),e.end=new Date(e.end),this.db.collection("Events").doc(t).update({[n]:e}).then((e=>{console.log("Document written with ID: ")})).catch((e=>{console.error("Error adding document: ",e)}))}async obtenerDocumento(e,t){var n=this.db.collection(e).doc(t);let o;return await n.get().then((e=>{e.exists?o=e.data():console.log("No such document!")})).catch((e=>{console.log("Error getting document:",e)})),o}}const b=async()=>{let e,t=document.querySelector("#selectProvincia"),n=document.querySelector("#selectCanton"),o=document.querySelector("#selectDistrito");await(async()=>{let e=await r();s(t,e),e=await a(1),s(n,e),e=await i(1,1),s(o,e)})();let c;let l;t.addEventListener("change",(async t=>{e=t.target.value;let o=await a(e);s(n,o)})),n.addEventListener("change",(async t=>{let n=t.target.value,r=await i(e,n);s(o,r)}));var d=document.getElementById("myModal"),u=new bootstrap.Modal(document.getElementById("myModal"),{keyboard:!1});let f=new w;$("#btnAddEvent").click((async e=>{console.log("btn");let t={id:"newEvent333",start:"2021-09-09T12:30:00",end:"2021-09-09T23:30:00",title:"Este es un evento de prueba"};await f.addEvent(t,"2021","dg2g");let n=await f.obtenerDocumento("Events","2021");var o;console.log(new Date(1e3*(o=n,o[Object.keys(o)[0]]).end.seconds).toISOString());document.getElementById("calendar");l.addEvent(t)})),$("#btnSeleccion").click((async e=>{console.log("CLICK"),e.preventDefault();let t=await f.obtenerDocumento("Events","2021");u.show(),d.addEventListener("shown.bs.modal",(function(e){var n,o,r;$("#calendar").css({visibility:"hidden"}),n=(e=>{let t=[];console.log(Object.values(e));let n=Object.values(e);for(let e=0;e<n.length;e++)t.push({id:n[e].id,descripcion:n[e].descripcion,organizacion:n[e].organizacion,start:new Date(1e3*n[e].start.seconds).toISOString(),end:new Date(1e3*n[e].end.seconds).toISOString(),title:n[e].title});return t})(t),o=document.getElementById("calendar"),(r=new FullCalendar.Calendar(o,{eventClick:function(e){c=e.event,$("#lblNombreEvento").text("Titulo del evento : "+c.title),$("#lblDescripcion").text("Descripcion del evento : "+c.extendedProps.descripcion),$("#lblOrganizacion").text("Organizacion que participa : "+c.extendedProps.organizacion);let t={weekday:"long",year:"numeric",month:"long",day:"numeric"};$("#lblFecha").text("Fecha del evento : "+new Date(c.start).toLocaleString("es-CR",t)),t={hour:"numeric",minute:"numeric",hourCycle:"h12"},$("#lblHoraInicio").text("Hora de inicio : "+new Date(c.start).toLocaleString("es-CR",t)),$("#lblHoraFin").text("Hora de finalizacion : "+new Date(c.end).toLocaleString("es-CR",t)),u.hide()},events:n,eventOverlap:!1,themeSystem:"bootstrap",height:600,navLinks:!0,locale:"es",aspectRatio:1.35,expandRows:!0,initialView:"listMonth",footerToolbar:{end:"listMonth"},headerToolbar:{start:"title",center:"today",end:"dayGridMonth timeGridWeek prev,next"},eventTimeFormat:{hour:"numeric",minute:"2-digit",meridiem:"short"},views:{timeGridWeek:{displayEventTime:!0},dayGridMonth:{displayEventEnd:!0}}})).render(),l=r,$("#calendar").css({visibility:"visible"}),$("#datosEvento").show(),$("#infoGeneral").hide()}))})),$("#btnVolver").click((async e=>{$("#infoGeneral").show()}))},y={common:{init:async()=>{console.log("INIT COMMON"),await o()},finalize:function(){}},home:{init:async()=>{await b()},cart:function(){console.log("CART")},category:function(){console.log("CATERGORY")}}},j={fire:async function(e,t,n){var o=y;t=void 0===t?"init":t,""!==e&&o[e]&&"function"==typeof o[e][t]&&(console.log("FIRING ",e,t),await o[e][t](n))},loadEvents:async function(){var e=document.body.id;await j.fire("common");$.each(document.body.className.split(/\s+/),(async function(t,n){await j.fire(n),await j.fire(n,e)})),await j.fire("common","finalize")}};document.addEventListener("DOMContentLoaded",(async function(e){await j.loadEvents(),console.log("everything is loaded")}))})()})();